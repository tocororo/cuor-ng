<mat-accordion style="width: 95%;" class="example-headers-align">
    <mat-expansion-panel  *ngFor="let service of services" [expanded]="step === service.key" (opened)="setStep(service.key)" >

        <mat-expansion-panel-header >
            <mat-panel-title>
                <mat-icon style="margin-right: 5vh;">{{service.icon}}</mat-icon>
                {{service.label}}
            </mat-panel-title>
            
            <mat-panel-description>
                
            </mat-panel-description>

        <!-- Content -->           
        </mat-expansion-panel-header>  
        <div  *ngIf="service.key == 1">
            <button mat-button (click)="nextStep()">Siguiente</button>
            
        </div>

        <div  *ngIf="service.key > 1 && service.key < services.length" >
            <button mat-button (click)="prevStep()">Anterior</button>
            <button mat-button (click)="nextStep()">Siguiente</button>
        </div>

        <div  *ngIf="service.key == services.length">
            <button mat-button (click)="prevStep()">Anterior</button>
        </div>

        <table-layout *ngIf="service.type == 'table'" [queryService]="service.value "></table-layout>
        
        <iframe *ngIf="service.type != 'table' " style="width: 80vw; height: 50vh; border: none;" [src]="load(service.value)" referrerpolicy="origin" sandbox="allow-scripts allow-same-origin allow-popups" ></iframe>
    </mat-expansion-panel>

    <!-- <iframe style="width: 80vw; height: 50vh; border: none;" src="https://query.wikidata.org/embed.html#PREFIX%20target%3A%20%3Chttp%3A%2F%2Fwww.wikidata.org%2Fentity%2FQ16733372%3E%0A%0A%23defaultView%3AMap%0ASELECT%20%3Forganization%20%3ForganizationLabel%20%3Fgeo%20%3Fcount%20%3Flayer%0AWITH%20%7B%0A%20%20SELECT%20DISTINCT%20%3Forganization%20%3Fgeo%20%28COUNT%28DISTINCT%20%3Fwork%29%20AS%20%3Fcount%29%20WHERE%20%7B%0A%20%20%20%20%3Fwork%20wdt%3AP50%20target%3A%20%3B%0A%20%20%20%20%20%20%20%20%20%20wdt%3AP50%20%3Fauthor%20.%0A%20%20%20%20FILTER%20%28%3Fauthor%20%21%3D%20target%3A%20%29%0A%20%20%20%20%3Fauthor%20%28%20wdt%3AP108%20%7C%20wdt%3AP463%20%7C%20wdt%3AP1416%20%29%20%2F%20wdt%3AP361%2a%20%3Forganization%20.%20%0A%20%20%20%20%3Forganization%20wdt%3AP625%20%3Fgeo%20.%0A%20%20%7D%0A%20%20GROUP%20BY%20%3Forganization%20%3Fgeo%20%3Fcount%0A%20%20ORDER%20BY%20DESC%20%28%3Fcount%29%0A%20%20LIMIT%202000%0A%7D%20AS%20%25organizations%0AWHERE%20%7B%0A%20%20INCLUDE%20%25organizations%0A%20%20BIND%28IF%28%20%28%3Fcount%20%3C%201%29%2C%20%22No%20results%22%2C%20IF%28%28%3Fcount%20%3C%202%29%2C%20%221%20result%22%2C%20IF%28%28%3Fcount%20%3C%205%29%2C%20%221%20%3C%20results%20%E2%89%A4%2010%22%2C%20IF%28%28%3Fcount%20%3C%20101%29%2C%20%2210%20%3C%20results%20%E2%89%A4%20100%22%2C%20IF%28%28%3Fcount%20%3C%201001%29%2C%20%22100%20%3C%20results%20%E2%89%A4%201000%22%2C%20IF%28%28%3Fcount%20%3C%2010001%29%2C%20%221000%20%3C%20results%20%E2%89%A4%2010000%22%2C%20%2210000%20or%20more%20results%22%29%20%29%20%29%20%29%20%29%29%20AS%20%3Flayer%20%29%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%20%20%20%20%20%20%20%20%0A%20%7D%0AORDER%20BY%20DESC%20%28%3Fcount%29%0A" referrerpolicy="origin" sandbox="allow-scripts allow-same-origin allow-popups" ></iframe> -->

</mat-accordion>

